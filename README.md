#Samuraiとは

「Sublime Text 2」の機能を補うために作成したユーティリティプラグインです。

##主な機能

いずれも「Samurai」コンテキストメニューから利用できます。

###表示支援機能

Shift JISやISO-2022-JPの文書を編集中に、ConvertToUTF8プラグインではうまく処理できない文字（いわゆる機種依存文字）を探しやすくするための表示支援を行います。また、全角英数字と全角スペースを区別しやすくできます。

- 全角英数字および全角の空白文字を弱い枠で囲います。
- Unicodeには変換できる機種依存文字をやや強めの枠で囲います。
- 印刷標準字体と簡易慣用字体のように、変換テーブルで入れ替えができる機種依存文字を強めの枠（注意色）で囲います。
- Shift JISやISO-2022-JPなどと互換性のない文字を強い枠（警告色）で囲います。

####環境設定

上記の表示支援は、環境設定で切替えが可能です。

###文字種の変換機能

機種依存文字をShift JISやISO-2022-JPで保存できる文字に変換するといった、文字変換機能を備えています。また、選択した文字列をHTML数値文字参照に変換することもできます。

- 全角英数字を半角に変換
- 機種依存文字を変換表で変換
- Unicode依存文字の標準化（NFKC）
- 互換性のない文字をゲタに
- 選択範囲をHTML数値文字参照に変換

####HTMLのルビを振る・外す

HTMLのrubyタグ付けを支援します。例えば、「ルビを振（ふ）りたい箇所（かしょ）を全角（）丸括弧（まるかっこ）で囲む」のように全角（）で囲んだテキストに対して、「ルビを<ruby>振<rt>ふ</rt></ruby>りたい<ruby>箇所<rt>かしょ</rt></ruby>を全角<ruby>丸括弧<rt>まるかっこ</rt></ruby>で囲む」のようにルビ付けが可能です。このとき、空白の丸括弧（）は詰められますので、漢字が続く単語で一部にだけ振る場合に便利です。

- HTMLルビを振る
- HTMLルビを外す

###クリップボードに関する機能

クリップボードの内容を加工して置換または挿入する機能があります。

- 選択範囲をクリップボードの行列で置換
- クリップボードの行列からHTMLテーブルを生成
- クリップボードからHTMLアンカーを生成

####選択範囲をクリップボードの行列で置換

Sublimeでは複数の選択範囲を持つことができます。それをプレースホルダとして、Excelの行列をコピーした内容（タブ区切りテキスト）で置換することができます。この機能を使うには、Sublime Textのユーザー環境設定で、

```javascript:
"translate_tabs_to_spaces": false
```

の指定をしておく必要があります。（trueにした場合は、クリップボードを処理する際にタブ文字が半角スペースに変換されてしまうため、1列の行に変換してから使うと良いでしょう）

####クリップボードの行列からHTMLテーブルを生成

Excelの行列をコピーした内容（タブ区切りテキスト）から、HTMLテーブルを生成できます。

####クリップボードからHTMLアンカーを生成

クリップボードにURL文字列が入っているときに、HTMLのアンカータグを生成できます。文字を選択している場合、その文字の外側にタグが生成されます。

###複数行の処理に関する機能

選択した複数行について、以下の処理を行うことができます。複数の選択範囲がある場合、一つ目の選択範囲に適用されます。

- 選択行から重複を取り除く
- 選択行から重複のみを抽出

###データ処理に関する機能

以下のコマンドで、テキスト形式のデータ処理を支援します。

- 選択行をカンマ区切りに
- カンマ区切りを複数行に
- 選択行をタブ区切りに
- タブ区切りを複数行に


## インストール

Package Controlには登録していませんので、Githubリポジトリを登録してインストールする必要があります。

1. Package Control から Add Repository を実行。  
ウィンドウ下部にリポジトリパスの入力エリアが出現するので、下記を入力。  

    https://github.com/yupyom/Samurai.git

2. Install Package を実行し、Samurai をインストール。

## アンインストール

1. Package Control から Remove Package を実行し、Samurai をアンインストール。  
2. メニューから、`Preferences->Package Settings->Package Control->Settings - User`を開き、repositories から `https://github.com/yupyom/Samurai.git` の一行を削除。

## 更新情報
- 2016-03-16 (v1.0.3)
HTMLルビを振る、外すの機能を追加しました。
- 2014-08-05 (v1.0.2)
クリップボードの処理に関する機能を追加変更しました。
- 2014-08-05 (v1.0.1)
メインメニューから環境設定ファイルにアクセス可能にしました。
- 2014-08-05 (v1.0.0)
初期バージョンを公開
